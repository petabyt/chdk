/*
 * capt_seq.c - auto-generated by CHDK code_gen.
 */
#include "lolevel.h"
#include "platform.h"
#include "core.h"

#define USE_STUBS_NRFLAG 1 // see stubs_min.S
#define NR_AUTO (0)        // have to explictly reset value back to 0 to enable auto
#define PAUSE_FOR_FILE_COUNTER 350  // Enable delay in capt_seq_hook_raw_here to ensure file counter is updated

#include "../../../generic/capt_seq.c"

/*************************************************************/
//** capt_seq_task @ 0xFF09A174 - 0xFF09A494, length=201
void __attribute__((naked,noinline)) capt_seq_task() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    LDR     R5, =0x20540 \n"
"    LDR     R7, =0x3A10 \n"
"    MOV     R6, #0 \n"

"loc_FF09A184:\n"
"    LDR     R0, [R7, #8] \n"
"    MOV     R2, #0 \n"
"    MOV     R1, SP \n"
"    BL      sub_FF039224 /*_ReceiveMessageQueue*/ \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF09A1B4 \n"
"    LDR     R2, =0x452 \n"
"    LDR     R1, =0xFF099A50 /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    BL      _ExitTask \n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF09A1B4:\n"
"    LDR     R0, [SP] \n"
"    LDR     R0, [R0] \n"
"    CMP     R0, #1 \n"
"    CMPNE   R0, #0x2D \n"
"    CMPNE   R0, #0x21 \n"
"    BLNE    sub_FF1E7294 \n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0] \n"
"    CMP     R1, #0x31 \n"
"    ADDCC   PC, PC, R1, LSL#2 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A2A4 \n"
"    B       loc_FF09A2C0 \n"
"    B       loc_FF09A2CC \n"
"    B       loc_FF09A2E0 \n"
"    B       loc_FF09A2D8 \n"
"    B       loc_FF09A2F0 \n"
"    B       loc_FF09A2F8 \n"
"    B       loc_FF09A304 \n"
"    B       loc_FF09A310 \n"
"    B       loc_FF09A324 \n"
"    B       loc_FF09A330 \n"
"    B       loc_FF09A338 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A344 \n"
"    B       loc_FF09A34C \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A354 \n"
"    B       loc_FF09A35C \n"
"    B       loc_FF09A364 \n"
"    B       loc_FF09A370 \n"
"    B       loc_FF09A378 \n"
"    B       loc_FF09A380 \n"
"    B       loc_FF09A388 \n"
"    B       loc_FF09A390 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A398 \n"
"    B       loc_FF09A3A4 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A3B0 \n"
"    B       loc_FF09A3B8 \n"
"    B       loc_FF09A3C0 \n"
"    B       loc_FF09A3CC \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A3D4 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A3DC \n"
"    B       loc_FF09A3E4 \n"
"    B       loc_FF09A3EC \n"
"    B       loc_FF09A3F8 \n"
"    B       loc_FF09A400 \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A42C \n"
"    B       loc_FF09A438 \n"
"    B       loc_FF09A44C \n"
"    B       loc_FF09A458 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A2A4:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09AAF0 \n"
"    BL      shooting_expo_param_override\n"    // added
"    BL      sub_FF0974AC \n"
//To do: Check if this is needed.
//"    MOV     R0, #0\n"                          // added
//"    STR     R0, [R5,#0x28]\n"                  // added, fixes overrides behavior at short shutter press (from S95)
"    LDR     R0, [R5, #0x24] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF1E62CC_my \n"  // --> Patched. Old value = 0xFF1E62CC.
"    B       loc_FF09A468 \n"

"loc_FF09A2C0:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF1E6228_my \n"  // --> Patched. Old value = 0xFF1E6228.
"    B       loc_FF09A468 \n"

"loc_FF09A2CC:\n"
"    MOV     R0, #1 \n"
"    BL      sub_FF09AE94 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A2D8:\n"
"    BL      sub_FF09A658 \n"
"    B       loc_FF09A2E8 \n"

"loc_FF09A2E0:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09AA8C \n"

"loc_FF09A2E8:\n"
"    STR     R6, [R5, #0x24] \n"
"    B       loc_FF09A468 \n"

"loc_FF09A2F0:\n"
"    BL      sub_FF09AA98 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A2F8:\n"
"    BL      sub_FF09AD5C \n"
"    BL      sub_FF0974AC \n"
"    B       loc_FF09A468 \n"

"loc_FF09A304:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF1E63E8 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A310:\n"
"    BL      sub_FF09ADE4 \n"
"    BL      sub_FF0974AC \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF03233C \n"
"    B       loc_FF09A468 \n"

"loc_FF09A324:\n"
"    LDR     R0, [R5, #0x50] \n"
"    BL      sub_FF09C0DC \n"
"    B       loc_FF09A468 \n"

"loc_FF09A330:\n"
"    BL      sub_FF09C538 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A338:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09C5A0 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A344:\n"
"    BL      sub_FF1E4948 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A34C:\n"
"    BL      sub_FF1E4B38 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A354:\n"
"    BL      sub_FF1E4BF8 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A35C:\n"
"    BL      sub_FF1E4CE4 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A364:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF1E4F64 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A370:\n"
"    BL      sub_FF1E50D8 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A378:\n"
"    BL      sub_FF0A35AC \n"
"    B       loc_FF09A468 \n"

"loc_FF09A380:\n"
"    BL      sub_FF0A35B8 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A388:\n"
"    MOV     R0, #0 \n"
"    B       loc_FF09A39C \n"

"loc_FF09A390:\n"
"    MOV     R0, #0 \n"
"    B       loc_FF09A3A8 \n"

"loc_FF09A398:\n"
"    MOV     R0, #1 \n"

"loc_FF09A39C:\n"
"    BL      sub_FF1E5160 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3A4:\n"
"    MOV     R0, #1 \n"

"loc_FF09A3A8:\n"
"    BL      sub_FF1E523C \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3B0:\n"
"    BL      sub_FF09AFB0 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3B8:\n"
"    MOV     R0, #0 \n"
"    B       loc_FF09A3C4 \n"

"loc_FF09A3C0:\n"
"    LDR     R0, [R0, #0xC] \n"

"loc_FF09A3C4:\n"
"    BL      sub_FF09B070 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3CC:\n"
"    BL      sub_FF1E4D94 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3D4:\n"
"    BL      sub_FF1E4DE4 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3DC:\n"
"    BL      sub_FF09F2D0 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3E4:\n"
"    BL      sub_FF09F404 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3EC:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF1E5354 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A3F8:\n"
"    BL      sub_FF1E53E4 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A400:\n"
"    BL      sub_FF0A1C68 \n"
"    LDR     R0, =0x20640 \n"
"    LDRH    R0, [R0, #0xA8] \n"
"    CMP     R0, #4 \n"
"    LDRNEH  R0, [R5] \n"
"    SUBNE   R1, R0, #0x8200 \n"
"    SUBNES  R1, R1, #0x37 \n"
"    BNE     loc_FF09A468 \n"
"    BL      sub_FF09F404 \n"
"    BL      sub_FF09F9D0 \n"
"    B       loc_FF09A468 \n"

"loc_FF09A42C:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x12 \n"
"    B       loc_FF09A440 \n"

"loc_FF09A438:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x10 \n"

"loc_FF09A440:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF097F9C \n"
"    B       loc_FF09A468 \n"

"loc_FF09A44C:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x11 \n"
"    B       loc_FF09A440 \n"

"loc_FF09A458:\n"
"    LDR     R2, =0x58E \n"
"    LDR     R1, =0xFF099A50 /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"

"loc_FF09A468:\n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0, #4] \n"
"    LDR     R0, [R7, #4] \n"
"    BL      sub_FF038FB8 /*_SetEventFlag*/ \n"
"    LDR     R4, [SP] \n"
"    LDR     R0, [R4, #8] \n"
"    CMP     R0, #0 \n"
"    LDREQ   R2, =0x102 \n"
"    LDREQ   R1, =0xFF099A50 /*'SsShootTask.c'*/ \n"
"    BLEQ    _DebugAssert \n"
"    STR     R6, [R4, #8] \n"
"    B       loc_FF09A184 \n"
);
}

/*************************************************************/
//** sub_FF1E62CC_my @ 0xFF1E62CC - 0xFF1E63A0, length=54
void __attribute__((naked,noinline)) sub_FF1E62CC_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    BL      sub_FF099674 \n"
"    MOV     R4, R0 \n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF0A1224 \n"
"    LDR     R6, =0x7E44 \n"
"    TST     R0, #1 \n"
"    MOV     R5, #1 \n"
"    BNE     loc_FF1E638C \n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    MOV     R0, #0x114 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    ADDNE   R2, R5, #0x1A4 \n"
"    LDRNE   R1, =0xFF1E63AC /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02BEE0 \n"
"    BL      sub_FF02BD04 \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF1E6394 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02BE54 \n"
"    BL      sub_FF09AAA4 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF09C8DC \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF09C948 \n"
"    LDR     R0, =0x11A \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x38 \n"
"    MOV     R0, #0x33 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #8 \n"
"    MOV     R0, #0x47 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5DA8 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35BB98_my \n"  // --> Patched. Old value = 0xFF35BB98.
//"    BL      capt_seq_hook_raw_here \n"         // added 1
"    TST     R0, #1 \n"
"    BEQ     loc_FF1E6390 \n"

"loc_FF1E638C:\n"
"    STR     R5, [R6] \n"

"loc_FF1E6390:\n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF1E6394:\n"
"    STR     R5, [R6] \n"
"    BL      sub_FF097CB4 \n"
"    BL      sub_FF0A128C \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF1E6228_my @ 0xFF1E6228 - 0xFF1E62C8, length=41
void __attribute__((naked,noinline)) sub_FF1E6228_my() {
asm volatile (
"    STMFD   SP!, {R4-R6,LR} \n"
"    LDR     R5, =0x20540 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [R5, #0x24] \n"
"    MOV     R4, #0 \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF1E6284 \n"
"    LDR     R2, [R6, #0xF8] \n"
"    LDR     R1, =0xFF1E63BC /*'CaptCtrl:Quick(%d)'*/ \n"
"    MOV     R0, #0x120 \n"
"    BL      sub_FF0361E0 /*_LogCameraEvent*/ \n"
"    LDR     R0, =0x7E44 \n"
"    MOV     R2, R6 \n"
"    LDR     R0, [R0] \n"
"    MOV     R1, #2 \n"
"    CMP     R0, #0 \n"
"    MOVNE   R4, #0x1D \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF097F9C \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E701C \n"
"    B       loc_FF1E62C0 \n"

"loc_FF1E6284:\n"
"    LDR     R1, =0xFF1E63D4 /*'CaptCtrl:ExecCapt'*/ \n"
"    MOV     R0, #0x120 \n"
"    BL      sub_FF0361E0 /*_LogCameraEvent*/ \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E60D8_my \n"  // --> Patched. Old value = 0xFF1E60D8.
"    TST     R0, #1 \n"
"    MOV     R4, R0 \n"
"    BEQ     loc_FF1E62C0 \n"
"    MOV     R2, R6 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF097F9C \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF1E7230 \n"

"loc_FF1E62C0:\n"
"    MOV     R0, #0 \n"
"    STR     R0, [R5, #0x24] \n"
"    LDMFD   SP!, {R4-R6,PC} \n"
);
}

/*************************************************************/
//** sub_FF1E60D8_my @ 0xFF1E60D8 - 0xFF1E6224, length=84
void __attribute__((naked,noinline)) sub_FF1E60D8_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF09C8DC \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF09C948 \n"
"    LDR     R0, =0x11A \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x38 \n"
"    MOV     R0, #0x33 \n"
"    BL      _SetPropertyCase \n"
"    LDR     R6, =0x20540 \n"
"    LDR     R0, [R6, #0x100] \n"
"    ADD     R5, R6, #0x100 \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF1E6138 \n"
"    LDRH    R0, [R5, #0xA6] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E615C \n"
"    B       loc_FF1E6144 \n"

"loc_FF1E6138:\n"
"    LDR     R0, [R4, #0xC] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF1E615C \n"

"loc_FF1E6144:\n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF0A1224 \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF1E615C \n"
"    BL      sub_FF097CB4 \n"
"    B       loc_FF1E6220 \n"

"loc_FF1E615C:\n"
"    LDR     R0, [R6, #0xE4] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF1E6190 \n"
"    LDRH    R0, [R5, #0xA6] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E61D0 \n"
"    LDR     R0, [R6, #0x100] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R0, [R4, #0xC] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF1E61D0 \n"

"loc_FF1E6190:\n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    MOV     R0, #0x114 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    MOVNE   R2, #0xCB \n"
"    LDRNE   R1, =0xFF1E63AC /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02BEE0 \n"
"    BL      sub_FF02BD04 \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF1E6218 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02BE54 \n"

"loc_FF1E61D0:\n"
"    MOV     R0, R4 \n"
"    BL      sub_FF09B050 \n"
"    TST     R0, #1 \n"
"    BNE     loc_FF1E6214 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E463C \n"
"    TST     R0, #1 \n"
"    MOV     R5, R0 \n"
"    BNE     loc_FF1E6210 \n"
"    BL      sub_FF09AAA4 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5DA8 \n"
"    MOV     R0, #2 \n"
"    BL      sub_FF0A37A8 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35BB98_my \n"  // --> Patched. Old value = 0xFF35BB98.
//"    BL      capt_seq_hook_raw_here \n"         // added 2

"loc_FF1E6210:\n"
"    MOV     R0, R5 \n"

"loc_FF1E6214:\n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF1E6218:\n"
"    BL      sub_FF097CB4 \n"
"    BL      sub_FF0A128C \n"

"loc_FF1E6220:\n"
"    MOV     R0, #1 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF35BB98_my @ 0xFF35BB98 - 0xFF35BF48, length=237
void __attribute__((naked,noinline)) sub_FF35BB98_my() {
asm volatile (
"    STMFD   SP!, {R0-R8,LR} \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF09C9F4 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5CC0 \n"
"    BL      sub_FF1E6A44 \n"
"    LDR     R7, =0x20540 \n"
"    LDR     R0, [R7, #0x19C] \n"
"    ADD     R5, R7, #0x100 \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF35BBDC \n"
"    LDRH    R0, [R5, #0xA6] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    MOVLS   R0, #6 \n"
"    BLLS    sub_FF125424 \n"

"loc_FF35BBDC:\n"
"    LDR     R0, [R4, #0x1C] \n"
"    LDR     R1, =0x13B \n"
"    MOV     R3, #4 \n"
"    ADD     R2, SP, #0xC \n"
"    BL      sub_FF0AE1C4 \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x1B5 \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [SP, #0xC] \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRNE   R0, =0xFF1E58AC \n"
"    LDREQ   R0, =0xFF35BB94 \n"
"    MOVNE   R1, R4 \n"
"    MOVEQ   R1, #0 \n"
"    BL      sub_FF29A804 \n"
"    MOV     R3, #2 \n"
"    LDR     R0, [R4, #0x1C] \n"
"    ADD     R2, SP, #8 \n"
"    ADD     R1, R3, #0x114 \n"
"    BL      sub_FF0AE1C4 \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x1BE \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [R7, #0xFC] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF35BC9C \n"
"    LDRH    R0, [R5, #0xA6] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF35BC9C \n"
"    MOV     R0, #1 \n"
"    MOV     R2, #2 \n"
"    ADD     R5, R2, #0x168 \n"
"    STR     R0, [SP] \n"
"    MOV     R1, SP \n"
"    MOV     R0, R5 \n"
"    BL      _SetPropertyCase \n"
"    LDR     R0, [R4, #0x1C] \n"
"    MOV     R3, #2 \n"
"    MOV     R2, SP \n"
"    MOV     R1, R5 \n"
"    BL      sub_FF0AE114 \n"

"loc_FF35BC9C:\n"
"    BL      wait_until_remote_button_is_released\n" // added
"    BL      capt_seq_hook_set_nr\n"                 // added
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5E44 \n"
"    LDR     R0, [R4, #0x1C] \n"
"    MOV     R3, #4 \n"
"    ADD     R2, SP, #4 \n"
"    MOV     R1, #0x93 \n"
"    BL      sub_FF0AE1C4 \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x1CA \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRH    R0, [R4, #0x18] \n"
"    CMP     R0, #0 \n"
"    LDREQ   R1, [R4, #0x38] \n"
"    LDREQ   R2, [SP, #4] \n"
"    MOVEQ   R0, R4 \n"
"    BLEQ    sub_FF1E5610 \n"
"    LDR     R0, [R7, #0x180] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF1E5B80 \n"
"    BL      sub_FF09E384 \n"
"    BL      sub_FF08B720 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35C048 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [SP, #0xC] \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRH    R0, [R4, #0x18] \n"
"    LDRNE   R5, =0xFF1E5B54 \n"
"    LDREQ   R5, =0xFF1E5B34 \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF35BD5C \n"
"    CMP     R0, #1 \n"
"    BEQ     loc_FF35BD78 \n"
"    CMP     R0, #4 \n"
"    BNE     loc_FF35BE08 \n"
"    STR     R6, [SP] \n"
"    LDR     R1, [R4, #0x38] \n"
"    LDR     R2, [SP, #4] \n"
"    MOV     R3, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E56AC \n"

"loc_FF35BD50:\n"
"    MOV     R5, R0 \n"
"    BL      sub_FF12D5F4 \n"
"    B       loc_FF35BE1C \n"

"loc_FF35BD5C:\n"
"    STR     R6, [SP] \n"
"    LDR     R1, [R4, #0x38] \n"
"    LDR     R2, [SP, #4] \n"
"    MOV     R3, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E54B0 \n"
"    B       loc_FF35BD50 \n"

"loc_FF35BD78:\n"
"    LDR     R0, [R7, #0xBC] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R2, =0x201 \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    STR     R6, [SP] \n"
"    LDR     R1, [R4, #0x38] \n"
"    LDR     R2, [SP, #4] \n"
"    MOV     R3, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E56EC \n"
"    MOV     R5, R0 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, #0x45 \n"
"    BL      sub_FF033E90 \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF35BE1C \n"
"    LDR     R0, =0xFF35BB94 \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF29A804 \n"
"    MOV     R1, #1 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF35C048 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [SP, #4] \n"
"    BL      sub_FF1E5C00 \n"
"    LDR     R1, [R4, #0x38] \n"
"    LDR     R2, [SP, #4] \n"
"    MOV     R3, R6 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E57F8 \n"
"    MOV     R5, R0 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF1E5478 \n"
"    B       loc_FF35BE1C \n"

"loc_FF35BE08:\n"
"    LDR     R2, =0x22A \n"
"    LDR     R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    MOV     R5, #0x1D \n"

"loc_FF35BE1C:\n"
"    BL      sub_FF08B738 \n"
"    LDR     R8, =0xFF35BB94 \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF35BE9C \n"
"    LDR     R0, [R7, #0xFC] \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF35BE54 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E7894 \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x247 \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    BL      capt_seq_hook_raw_here \n"         // added 3

"loc_FF35BE54:\n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5F14 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E5ECC \n"
"    CMP     R6, R8 \n"
"    BEQ     loc_FF35BE9C \n"
"    BL      sub_FF1E6C14 \n"
"    MOV     R3, #0x254 \n"
"    STR     R3, [SP] \n"
"    LDR     R2, =0x3A98 \n"
"    LDR     R3, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R1, #4 \n"
"    BL      sub_FF0A183C \n"
"    CMP     R0, #0 \n"
"    MOVNE   R2, #0x254 \n"
"    LDRNE   R1, =0xFF35BEDC /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"

"loc_FF35BE9C:\n"
"    MOV     R2, R4 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF097F9C \n"
"    LDR     R0, [R7, #0x24] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF35BF1C \n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E6FB4 \n"
"    B       loc_FF35BF30 \n"

"loc_FF35BF1C:\n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF1E6F48 \n"

"loc_FF35BF30:\n"
"    MOV     R0, R5 \n"
"    ADD     SP, SP, #0x10 \n"
"    LDMFD   SP!, {R4-R8,PC} \n"
"    .ltorg\n"         // added
);
}
