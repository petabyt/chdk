/*
 * capt_seq.c - auto-generated by CHDK code_gen.
 */
#include "lolevel.h"
#include "platform.h"
#include "core.h"

#define USE_STUBS_NRFLAG 1 // see stubs_min.S
#define NR_AUTO (0)        // have to explictly reset value back to 0 to enable auto
#define PAUSE_FOR_FILE_COUNTER 350  // Enable delay in capt_seq_hook_raw_here to ensure file counter is updated

#include "../../../generic/capt_seq.c"

/*************************************************************/
//** capt_seq_task @ 0xFF09C4DC - 0xFF09C7E8, length=196
void __attribute__((naked,noinline)) capt_seq_task() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    LDR     R5, =0x263E4 \n"
"    LDR     R7, =0x3BA4 \n"
"    MOV     R6, #0 \n"

"loc_FF09C4EC:\n"
"    LDR     R0, [R7, #8] \n"
"    MOV     R2, #0 \n"
"    MOV     R1, SP \n"
"    BL      sub_006B8568 /*_ReceiveMessageQueue*/ \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF09C51C \n"
"    LDR     R2, =0x428 \n"
"    LDR     R1, =0xFF09BDEC /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    BL      _ExitTask \n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF09C51C:\n"
"    LDR     R0, [SP] \n"
"    LDR     R0, [R0] \n"
"    CMP     R0, #1 \n"
"    CMPNE   R0, #0x2B \n"
"    CMPNE   R0, #0x1F \n"
"    BLNE    sub_FF22753C \n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0] \n"
"    CMP     R1, #0x2E \n"
"    ADDCC   PC, PC, R1, LSL#2 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C600 \n"
"    B       loc_FF09C61C \n"
"    B       loc_FF09C628 \n"
"    B       loc_FF09C63C \n"
"    B       loc_FF09C634 \n"
"    B       loc_FF09C64C \n"
"    B       loc_FF09C654 \n"
"    B       loc_FF09C660 \n"
"    B       loc_FF09C66C \n"
"    B       loc_FF09C680 \n"
"    B       loc_FF09C68C \n"
"    B       loc_FF09C694 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C6A0 \n"
"    B       loc_FF09C6A8 \n"
"    B       loc_FF09C6B0 \n"
"    B       loc_FF09C6B8 \n"
"    B       loc_FF09C6C0 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C6C8 \n"
"    B       loc_FF09C6D0 \n"
"    B       loc_FF09C6D8 \n"
"    B       loc_FF09C6E4 \n"
"    B       loc_FF09C6EC \n"
"    B       loc_FF09C6F4 \n"
"    B       loc_FF09C6FC \n"
"    B       loc_FF09C704 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C70C \n"
"    B       loc_FF09C714 \n"
"    B       loc_FF09C71C \n"
"    B       loc_FF09C728 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C730 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C738 \n"
"    B       loc_FF09C740 \n"
"    B       loc_FF09C748 \n"
"    B       loc_FF09C754 \n"
"    B       loc_FF09C75C \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C78C \n"
"    B       loc_FF09C798 \n"
"    B       loc_FF09C7AC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C600:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09CE50 \n"
"    BL      shooting_expo_param_override\n"    // added
"    BL      sub_FF099744 \n"
//To do: Check if this is needed.
//"    MOV     R0, #0\n"                          // added
//"    STR     R0, [R5,#0x28]\n"                  // added, fixes overrides behavior at short shutter press (from S95)
"    LDR     R0, [R5, #0x28] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF2263EC_my \n"  // --> Patched. Old value = 0xFF2263EC.
"    B       loc_FF09C7BC \n"

"loc_FF09C61C:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF226364_my \n"  // --> Patched. Old value = 0xFF226364.
"    B       loc_FF09C7BC \n"

"loc_FF09C628:\n"
"    MOV     R0, #1 \n"
"    BL      sub_FF09D204 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C634:\n"
"    BL      sub_FF09C9B0 \n"
"    B       loc_FF09C644 \n"

"loc_FF09C63C:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09CE24 \n"

"loc_FF09C644:\n"
"    STR     R6, [R5, #0x28] \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C64C:\n"
"    BL      sub_FF09CE30 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C654:\n"
"    BL      sub_FF09D0CC \n"
"    BL      sub_FF099744 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C660:\n"
"    LDR     R0, [R0, #0x10] \n"
"    BL      sub_FF2264E8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C66C:\n"
"    BL      sub_FF09D154 \n"
"    BL      sub_FF099744 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF031A20 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C680:\n"
"    LDR     R0, [R5, #0x54] \n"
"    BL      sub_FF09D970 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C68C:\n"
"    BL      sub_FF09DCCC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C694:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF09DD34 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6A0:\n"
"    BL      sub_FF09DEE8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6A8:\n"
"    BL      sub_FF09E400 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6B0:\n"
"    BL      sub_FF09E4E8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6B8:\n"
"    BL      sub_FF2247D8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6C0:\n"
"    BL      sub_FF224A2C \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6C8:\n"
"    BL      sub_FF224AF8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6D0:\n"
"    BL      sub_FF224BF8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6D8:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF224EE4 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6E4:\n"
"    BL      sub_FF225060 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6EC:\n"
"    BL      sub_FF0A53C0 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6F4:\n"
"    BL      sub_FF0A53CC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C6FC:\n"
"    BL      sub_FF225104 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C704:\n"
"    BL      sub_FF2251B8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C70C:\n"
"    BL      sub_FF09D334 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C714:\n"
"    MOV     R0, #0 \n"
"    B       loc_FF09C720 \n"

"loc_FF09C71C:\n"
"    LDR     R0, [R0, #0xC] \n"

"loc_FF09C720:\n"
"    BL      sub_FF09D3CC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C728:\n"
"    BL      sub_FF224DAC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C730:\n"
"    BL      sub_FF224E48 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C738:\n"
"    BL      sub_FF0A10AC \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C740:\n"
"    BL      sub_FF0A11F4 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C748:\n"
"    LDR     R0, [R0, #0xC] \n"
"    BL      sub_FF2252D8 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C754:\n"
"    BL      sub_FF225368 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C75C:\n"
"    BL      sub_FF0A3AFC \n"
"    LDR     R0, =0x264E4 \n"
"    LDRH    R0, [R0, #0x9C] \n"
"    CMP     R0, #4 \n"
"    LDRNEH  R0, [R5] \n"
"    SUBNE   R1, R0, #0x8200 \n"
"    SUBNES  R1, R1, #0x36 \n"
"    BNE     loc_FF09C7BC \n"
"    BL      sub_FF0A11F4 \n"
"    BL      sub_FF0A1904 \n"
"    BL      sub_FF0A1778 \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C78C:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x11 \n"
"    B       loc_FF09C7A0 \n"

"loc_FF09C798:\n"
"    MOV     R2, #0 \n"
"    MOV     R1, #0x10 \n"

"loc_FF09C7A0:\n"
"    MOV     R0, #0 \n"
"    BL      sub_FF09A36C \n"
"    B       loc_FF09C7BC \n"

"loc_FF09C7AC:\n"
"    LDR     R2, =0x557 \n"
"    LDR     R1, =0xFF09BDEC /*'SsShootTask.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"

"loc_FF09C7BC:\n"
"    LDR     R0, [SP] \n"
"    LDR     R1, [R0, #4] \n"
"    LDR     R0, [R7, #4] \n"
"    BL      sub_006B82FC /*_SetEventFlag*/ \n"
"    LDR     R4, [SP] \n"
"    LDR     R0, [R4, #8] \n"
"    CMP     R0, #0 \n"
"    LDREQ   R1, =0xFF09BDEC /*'SsShootTask.c'*/ \n"
"    MOVEQ   R2, #0xFF \n"
"    BLEQ    _DebugAssert \n"
"    STR     R6, [R4, #8] \n"
"    B       loc_FF09C4EC \n"
);
}

/*************************************************************/
//** sub_FF2263EC_my @ 0xFF2263EC - 0xFF2264CC, length=57
void __attribute__((naked,noinline)) sub_FF2263EC_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    BL      sub_FF09B9D4 \n"
"    MOV     R4, R0 \n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF0A3414 \n"
"    LDR     R6, =0xACF0 \n"
"    TST     R0, #1 \n"
"    MOV     R5, #1 \n"
"    BNE     loc_FF2264B8 \n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    ADD     R0, R2, #0x110 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    ADDNE   R2, R5, #0x188 \n"
"    LDRNE   R1, =0xFF2264D4 /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02B374 \n"
"    BL      sub_FF02B08C \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF2264C0 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02B1E4 \n"
"    BL      sub_FF0E4380 \n"
"    BL      sub_FF09CE3C \n"
"    BL      sub_FF09E958 \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF09E9B4 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x30 \n"
"    MOV     R0, #0x118 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    MOV     R0, #0x32 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #8 \n"
"    MOV     R0, #0x46 \n"
"    BL      _SetPropertyCase \n"
"    BL      sub_FF226D58 \n"
"    MVN     R1, #0x1000 \n"
"    BL      sub_006B8344 /*_ClearEventFlag*/ \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF225E2C \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF3DE834_my \n"  // --> Patched. Old value = 0xFF3DE834.
"    TST     R0, #1 \n"
"    BEQ     loc_FF2264BC \n"

"loc_FF2264B8:\n"
"    STR     R5, [R6] \n"

"loc_FF2264BC:\n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF2264C0:\n"
"    STR     R5, [R6] \n"
"    BL      sub_FF09A038 \n"
"    BL      sub_FF0A347C \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF226364_my @ 0xFF226364 - 0xFF2263E8, length=34
void __attribute__((naked,noinline)) sub_FF226364_my() {
asm volatile (
"    STMFD   SP!, {R4-R6,LR} \n"
"    LDR     R5, =0x263E4 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [R5, #0x28] \n"
"    MOV     R4, #0 \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF2263B0 \n"
"    LDR     R0, =0xACF0 \n"
"    MOV     R2, R6 \n"
"    LDR     R0, [R0] \n"
"    MOV     R1, #2 \n"
"    CMP     R0, #0 \n"
"    MOVNE   R4, #0x1D \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF09A36C \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF2272C4 \n"
"    B       loc_FF2263E0 \n"

"loc_FF2263B0:\n"
"    MOV     R0, R6 \n"
"    BL      sub_FF2261E0_my \n"  // --> Patched. Old value = 0xFF2261E0.
"    TST     R0, #1 \n"
"    MOV     R4, R0 \n"
"    BEQ     loc_FF2263E0 \n"
"    MOV     R2, R6 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF09A36C \n"
"    MOV     R1, R4 \n"
"    MOV     R0, R6 \n"
"    BL      sub_FF2274D8 \n"

"loc_FF2263E0:\n"
"    MOV     R0, #0 \n"
"    STR     R0, [R5, #0x28] \n"
"    LDMFD   SP!, {R4-R6,PC} \n"
);
}

/*************************************************************/
//** sub_FF2261E0_my @ 0xFF2261E0 - 0xFF226360, length=97
void __attribute__((naked,noinline)) sub_FF2261E0_my() {
asm volatile (
"    STMFD   SP!, {R3-R7,LR} \n"
"    MOV     R4, R0 \n"
"    BL      sub_FF09E958 \n"
"    MOV     R1, R4 \n"
"    BL      sub_FF09E9B4 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x30 \n"
"    MOV     R0, #0x118 \n"
"    BL      _SetPropertyCase \n"
"    MOV     R2, #4 \n"
"    ADD     R1, R4, #0x34 \n"
"    MOV     R0, #0x32 \n"
"    BL      _SetPropertyCase \n"
"    LDR     R7, =0x263E4 \n"
"    LDR     R0, [R7, #0x104] \n"
"    ADD     R5, R7, #0x100 \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF226240 \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF226264 \n"
"    B       loc_FF22624C \n"

"loc_FF226240:\n"
"    LDR     R0, [R4, #0xC] \n"
"    CMP     R0, #1 \n"
"    BNE     loc_FF226264 \n"

"loc_FF22624C:\n"
"    MOV     R0, #0xC \n"
"    BL      sub_FF0A3414 \n"
"    TST     R0, #1 \n"
"    BEQ     loc_FF226264 \n"
"    BL      sub_FF09A038 \n"
"    B       loc_FF226350 \n"

"loc_FF226264:\n"
"    LDR     R0, [R7, #0xE4] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF226298 \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF2262D8 \n"
"    LDR     R0, [R7, #0x104] \n"
"    CMP     R0, #0 \n"
"    LDRNE   R0, [R4, #0xC] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF2262D8 \n"

"loc_FF226298:\n"
"    MOV     R2, #2 \n"
"    MOV     R1, SP \n"
"    ADD     R0, R2, #0x110 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    MOVNE   R2, #0xC1 \n"
"    LDRNE   R1, =0xFF2264D4 /*'SsCaptureCtrl.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDRSH   R0, [SP] \n"
"    BL      sub_FF02B374 \n"
"    BL      sub_FF02B08C \n"
"    CMP     R0, #1 \n"
"    BLS     loc_FF226348 \n"
"    MOV     R0, #0 \n"
"    BL      sub_FF02B1E4 \n"

"loc_FF2262D8:\n"
"    BL      sub_FF226D58 \n"
"    MVN     R1, #0x1000 \n"
"    BL      sub_006B8344 /*_ClearEventFlag*/ \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF3DE4BC \n"
"    TST     R0, #1 \n"
"    MOV     R6, R0 \n"
"    BNE     loc_FF22635C \n"
"    BL      sub_FF0E4380 \n"
"    BL      sub_FF09CE3C \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF225E2C \n"
"    LDR     R0, [R7, #0x128] \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF226328 \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF226330 \n"

"loc_FF226328:\n"
"    MOV     R0, #2 \n"
"    BL      sub_FF0A55AC \n"

"loc_FF226330:\n"
"    LDR     R0, [R7, #0xAC] \n"
"    CMP     R0, #0 \n"
"    MOV     R0, R4 \n"
"    BEQ     loc_FF226358 \n"
"    BL      sub_FF3DECE8 \n"
"    B       loc_FF22635C \n"

"loc_FF226348:\n"
"    BL      sub_FF09A038 \n"
"    BL      sub_FF0A347C \n"

"loc_FF226350:\n"
"    MOV     R0, #1 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"

"loc_FF226358:\n"
"    BL      sub_FF3DE834_my \n"  // --> Patched. Old value = 0xFF3DE834.

"loc_FF22635C:\n"
"    MOV     R0, R6 \n"
"    LDMFD   SP!, {R3-R7,PC} \n"
);
}

/*************************************************************/
//** sub_FF3DE834_my @ 0xFF3DE834 - 0xFF3DEB64, length=205
void __attribute__((naked,noinline)) sub_FF3DE834_my() {
asm volatile (
"    STMFD   SP!, {R1-R9,LR} \n"
"    LDR     R7, =0x263E4 \n"
"    MOV     R4, R0 \n"
"    LDR     R0, [R7, #0x164] \n"
"    ADD     R5, R7, #0x100 \n"
"    CMP     R0, #0 \n"
"    LDRNEH  R0, [R5, #0x9A] \n"
"    CMPNE   R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    BHI     loc_FF3DE86C \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF225D94 \n"
"    BL      sub_FF226BB4 \n"

"loc_FF3DE86C:\n"
"    LDR     R0, [R7, #0x190] \n"
"    CMP     R0, #2 \n"
"    BNE     loc_FF3DE890 \n"
"    LDRH    R0, [R5, #0x9A] \n"
"    CMP     R0, #3 \n"
"    LDRNE   R0, [R4, #8] \n"
"    CMPNE   R0, #1 \n"
"    MOVLS   R0, #5 \n"
"    BLLS    sub_FF13C4D8 \n"

"loc_FF3DE890:\n"
"    LDR     R0, =0x139 \n"
"    MOV     R2, #4 \n"
"    ADD     R1, SP, #8 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    MOVNE   R2, #0x150 \n"
"    LDRNE   R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [SP, #8] \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRNE   R0, =0xFF22595C \n"
"    LDREQ   R0, =0xFF3DE7E4 \n"
"    MOVNE   R1, R4 \n"
"    MOVEQ   R1, #0 \n"
"    BL      sub_FF2EF060 \n"
"    MOV     R2, #2 \n"
"    ADD     R1, SP, #4 \n"
"    MOV     R0, #0x114 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x159 \n"
"    LDRNE   R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    LDR     R0, [R7, #0x184] \n"
"    CMP     R0, #0 \n"
"    BLNE    sub_FF225C80 \n"
"    MOV     R0, #0 \n"
//"  BL      _sub_FF09FED8 \n"  // --> Nullsub call removed.
"    BL      wait_until_remote_button_is_released\n" // added
"    BL      capt_seq_hook_set_nr\n"                 // added
"    MOV     R0, R4 \n"
"    BL      sub_FF225F58 \n"
"    LDR     R1, =0x118D4 \n"
"    MOV     R2, #4 \n"
"    MOV     R0, #0x92 \n"
"    BL      _GetPropertyCase \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x16E \n"
"    LDRNE   R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    BL      sub_FF0A009C \n"
"    BL      sub_FF08CD24 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF3DE7E8 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [SP, #8] \n"
"    LDR     R8, =0x118D4 \n"
"    AND     R0, R0, #0xFF00 \n"
"    CMP     R0, #0x600 \n"
"    LDRH    R0, [R4, #0x18] \n"
"    LDRNE   R2, =0xFF225C54 \n"
"    LDREQ   R2, =0xFF225C34 \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF3DE984 \n"
"    CMP     R0, #1 \n"
"    BEQ     loc_FF3DE9A8 \n"
"    CMP     R0, #4 \n"
"    BNE     loc_FF3DEA1C \n"

"loc_FF3DE984:\n"
"    STR     R6, [SP] \n"
"    MOV     R3, R2 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF22566C \n"
"    MOV     R5, R0 \n"
"    BL      sub_FF1441E0 \n"
"    B       loc_FF3DEA30 \n"

"loc_FF3DE9A8:\n"
"    STR     R6, [SP] \n"
"    MOV     R3, R2 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF225718 \n"
"    MOV     R5, R0 \n"
"    MOV     R1, #0 \n"
"    MOV     R0, #0x45 \n"
"    BL      sub_FF033718 \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF3DEA30 \n"
"    LDR     R0, =0xFF3DE7E4 \n"
"    MOV     R1, #0 \n"
"    BL      sub_FF2EF060 \n"
"    MOV     R1, #1 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF3DE7E8 \n"
"    MOV     R6, R0 \n"
"    LDR     R0, [R8] \n"
"    BL      sub_FF225D18 \n"
"    LDR     R1, [R4, #0x34] \n"
"    LDR     R2, [R8] \n"
"    MOV     R3, R6 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF2257CC \n"
"    MOV     R5, R0 \n"
"    BL      sub_FF2255F4 \n"
"    B       loc_FF3DEA30 \n"

"loc_FF3DEA1C:\n"
"    LDR     R2, =0x1A7 \n"
"    LDR     R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R0, #0 \n"
"    BL      _DebugAssert \n"
"    MOV     R5, #0x1D \n"

"loc_FF3DEA30:\n"
"    BL      sub_FF08CD3C \n"
"    LDR     R8, =0xFF3DE7E4 \n"
"    TST     R5, #1 \n"
"    BNE     loc_FF3DEAB0 \n"
"    LDR     R0, [R7, #0x100] \n"
"    CMP     R0, #0 \n"
"    BNE     loc_FF3DEA68 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF227BB4 \n"
"    TST     R0, #1 \n"
"    LDRNE   R2, =0x1C9 \n"
"    LDRNE   R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"
"    BL      capt_seq_hook_raw_here \n"         // added

"loc_FF3DEA68:\n"
"    MOV     R0, R4 \n"
"    BL      sub_FF226028 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF225FE0 \n"
"    CMP     R6, R8 \n"
"    BEQ     loc_FF3DEAB0 \n"
"    BL      sub_FF226D58 \n"
"    LDR     R9, =0x1D6 \n"
"    LDR     R2, =0x3A98 \n"
"    LDR     R3, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOV     R1, #4 \n"
"    STR     R9, [SP] \n"
"    BL      sub_FF0A36B8 \n"
"    CMP     R0, #0 \n"
"    MOVNE   R2, R9 \n"
"    LDRNE   R1, =0xFF3DEB18 /*'SsStandardCaptureSeq.c'*/ \n"
"    MOVNE   R0, #0 \n"
"    BLNE    _DebugAssert \n"

"loc_FF3DEAB0:\n"
"    MOV     R2, R4 \n"
"    MOV     R1, #2 \n"
"    MOV     R0, R5 \n"
"    BL      sub_FF09A36C \n"
"    LDR     R0, [R7, #0x28] \n"
"    CMP     R0, #0 \n"
"    BEQ     loc_FF3DEAE4 \n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF22725C \n"
"    B       loc_FF3DEAF8 \n"

"loc_FF3DEAE4:\n"
"    SUBS    R1, R6, R8 \n"
"    MOVNE   R1, #1 \n"
"    MOV     R2, R5 \n"
"    MOV     R0, R4 \n"
"    BL      sub_FF2271F0 \n"

"loc_FF3DEAF8:\n"
"    MOV     R0, R5 \n"
"    LDMFD   SP!, {R1-R9,PC} \n"
"    .ltorg\n"         // added
);
}
